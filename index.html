<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Twitter Health Project</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A project for Challenge.gov">
    <meta name="author" content="Built by Dr. Drois, Two Giraffes, and General Ray Staton">

    <link href="css/bootstrap.css" rel="stylesheet">
	  <link href="css/site.css" rel="stylesheet">
    <link href="css/bootstrap-responsive.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">Twitter Health Project</a>
          <div class="btn-group pull-right">
              <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
			  <li><a href="#">Profile</a></li>
              <li class="divider"></li>
              <li><a href="#">Logout</a></li>
            </ul>
          </div>
          <div class="nav-collapse">
            <ul class="nav">
			<li><a href="index.html">Home</a></li>
              <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Users <b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="#">New User</a></li>
					<li class="divider"></li>
					<li><a href="#">Manage Users</a></li>
				</ul>
			  </li>
              <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Roles <b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="#">New Role</a></li>
					<li class="divider"></li>
					<li><a href="#">Manage Roles</a></li>
				</ul>
			  </li>
			  <li><a href="#">Stats</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <div class="well sidebar-nav">
            <ul class="nav nav-list">
              <li class="nav-header"><i class="icon-wrench"></i> Category (flus?)</li>
              <li class="active"><a href="#">Flu</a></li>
              <li><a href="#">Adenovirus</a></li>
              <li><a href="#">h1n1</a></li>
              <li><a href="#">Gastroenteritis</a></li>
              <li><a href="#">Food Poisioning</a></li>
              <li><a href="#">Campylobacter</a></li>
              <li><a href="#">Gastrointestinal Disease</a></li>


              <li class="nav-header"><i class="icon-signal"></i> Statistics</li>
              <li><a href="stats.html">General</a></li>
              <li><a href="user-stats.html">Users</a></li>
              <li><a href="visitor-stats.html">Visitors</a></li>
              <li class="nav-header"><i class="icon-user"></i> Profile</li>
              <li><a href="my-profile.html">My profile</a></li>
              <li><a href="#">Settings</a></li>
			  <li><a href="#">Logout</a></li> 
            </ul>
          </div>        
		    </div>
        </div>

      <hr>

      <footer class="footer">
        &copy; Twitter Health Project
      </footer>

    </div>
    <div id="chart"></div>

    <script src="js/jquery.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="http://d3js.org/d3.v2.js"></script>

<style>
	.chart rect {
		stroke: white;
		fill: steelblue;
	}
</style>

<script type="text/javascript">
d3.json("/resources/diseases.json", function(dataJSON) {

	var data = [];

	// Convert strings to numbers.
	$.each(dataJSON, function(){
			$.each(this, function(k,v){
				data.push({disease:v.key.toString().split(',')[0], value:v.value})
				//alert(v.key.toString().split(',')[0]+"|"+v.value);
			});
	});
	
	var barWidth = 1;
	var width = (barWidth + 2) * 1000;
	height = 500;
	
	var x = d3.scale.linear().domain([0, data.length]).range([0, width]);
	var y = d3.scale.linear().domain([0, d3.max(data, function(datum) { return datum.value; })]).
	  rangeRound([0, height]);

	// add the canvas to the DOM
	var barDemo = d3.select("#chart").
	  append("svg:svg").
	  attr("width", width).
	  attr("height", height);
	
	barDemo.selectAll("rect").
	  data(data).
	  enter().
	  append("svg:rect").
	  attr("x", function(datum, index) { return x(index); }).
	  attr("y", function(datum) { return height - y(datum.value); }).
	  attr("height", function(datum) { return y(datum.value); }).
	  attr("width", barWidth).
	  attr("fill", function(datum){
		  if(datum.disease=="Anthrax")
			  return "blue";
		  else if(datum.disease=="STD")
			  return "red";
		  else if(datum.disease=="Common Cold")
			  return "green";
		  else if(datum.disease=="Pertussis")
			  return "yellow";
		  else if(datum.disease=="Gastroenteritis")
			  return "orange";
		  else if(datum.disease=="Mosquito Borne Disease")
			  return "black";
		  else if(datum.disease=="Rabies")
			  return "purple";
		  else if(datum.disease=="Tuberculosis")
			  return "pink";
		  else if(datum.disease=="Malaria")
			  return "fuscia";
		  else
			  return "#cccccc";});
	
});

</script>
  </body>
</html>

<!-- Localized -->